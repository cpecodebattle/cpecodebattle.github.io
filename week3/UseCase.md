UC-03: การลงทะเบียนเข้าร่วมกิจกรรม (Participant Registration)
Primary Actor: นักศึกษา (Student User) Goal: ลงทะเบียนเข้าร่วมกิจกรรมที่สนใจสำเร็จ และได้รับหลักฐานยืนยันตัวตนในรูปแบบ QR Code

Preconditions
ผู้ใช้ต้องทำการ Login เข้าสู่ระบบแล้ว (FR-002).

กิจกรรมที่เลือกต้องมีสถานะเป็น 'Approved' (ได้รับการอนุมัติ) และยังมี ที่นั่งว่าง (Event Capacity > 0).

ผู้ใช้ต้องยังไม่เคยลงทะเบียนกิจกรรมนี้มาก่อน.

Postconditions
บันทึกการลงทะเบียน ผู้เข้าร่วมในฐานข้อมูล (Registration Table).

จำนวนที่นั่งว่าง (Event Capacity) ของกิจกรรมลดลง 1 ที่นั่ง.

ผู้ใช้ได้รับ Email ยืนยัน พร้อม QR Code เฉพาะบุคคลสำหรับใช้ในการ Check-in (FR-006).

Main Flow (Happy Path)
นักศึกษา ค้นหาและเลือกกิจกรรมที่ต้องการลงทะเบียนจากรายการกิจกรรม (FR-004).

ระบบแสดง หน้ารายละเอียดกิจกรรม (FR-005) พร้อมปุ่ม "ลงทะเบียน".

นักศึกษา คลิกที่ปุ่ม "ลงทะเบียน".

ระบบทำการตรวจสอบเงื่อนไขสุดท้าย (ที่นั่งว่างและไม่ลงทะเบียนซ้ำ).

ระบบบันทึกข้อมูลการลงทะเบียน, ลดจำนวนที่นั่งว่าง, และสร้าง QR Code เฉพาะบุคคล.

ระบบแสดงข้อความ "ลงทะเบียนสำเร็จ" พร้อมข้อมูลสรุป.

ระบบส่ง Email ยืนยันการลงทะเบียน พร้อมไฟล์แนบ QR Code.

Alternative Flows / Exceptions
AF-1 – ที่นั่งเต็ม (Event Capacity is 0)

ในขั้นตอนที่ 4 ระบบตรวจสอบพบว่า ที่นั่งของกิจกรรมไม่เพียงพอ (Event Capacity = 0).

ระบบแสดงข้อความ "ขออภัย กิจกรรมเต็มแล้ว" แทนปุ่มลงทะเบียน.

นักศึกษา สามารถเลือกดูหรือลงทะเบียนกิจกรรมอื่นได้.

AF-2 – ลงทะเบียนซ้ำ (Duplicate Registration Attempt)

ในขั้นตอนที่ 4 ระบบตรวจสอบพบว่า User ID เคยลงทะเบียนกิจกรรมนี้มาก่อน.

ระบบแสดงข้อความ "คุณได้ลงทะเบียนกิจกรรมนี้แล้ว" แทนปุ่มลงทะเบียน.

นักศึกษา สามารถดู QR Code ยืนยันบนโปรไฟล์ของตนเองได้.