## UC-03: การลงทะเบียนเข้าร่วมกิจกรรม (Participant Registration)

**Primary Actor:** นักศึกษา (Student User)
**Goal:** ลงทะเบียนเข้าร่วมกิจกรรมที่สนใจสำเร็จ และได้รับหลักฐานยืนยันตัวตนในรูปแบบ QR Code

### Preconditions
- ผู้ใช้ต้องทำการ Login เข้าสู่ระบบแล้ว (FR-002).
- กิจกรรมที่เลือกต้องมีสถานะเป็น 'Approved' และยังมี ที่นั่งว่าง .
- ผู้ใช้ต้องยังไม่เคยลงทะเบียนกิจกรรมนี้มาก่อน.

### Postconditions
- บันทึกการลงทะเบียน ผู้เข้าร่วมในฐานข้อมูล (Registration Table).
- จำนวนที่นั่งว่าง (Event Capacity) ของกิจกรรมลดลง 1 ที่นั่ง.
- ผู้ใช้ได้รับ Email ยืนยัน พร้อม QR Code เฉพาะบุคคลสำหรับใช้ในการ Check-in (FR-006).

### Main Flow 
1. นักศึกษา ค้นหาและเลือกกิจกรรมที่ต้องการลงทะเบียนจากรายการกิจกรรม (FR-004).
2. ระบบแสดง หน้ารายละเอียดกิจกรรม (FR-005) พร้อมปุ่ม "ลงทะเบียน".
3. นักศึกษา คลิกที่ปุ่ม "ลงทะเบียน".
4. ระบบทำการตรวจสอบเงื่อนไขสุดท้าย (ที่นั่งว่างและไม่ลงทะเบียนซ้ำ).
5. ระบบบันทึกข้อมูลการลงทะเบียน, ลดจำนวนที่นั่งว่าง, และสร้าง QR Code เฉพาะบุคคล.
6. ระบบแสดงข้อความ "ลงทะเบียนสำเร็จ" พร้อมข้อมูลสรุป.
7. ระบบส่ง Email ยืนยันการลงทะเบียน พร้อมไฟล์แนบ QR Code.

### Alternative Flows / Exceptions
- **AF-1 – ที่นั่งเต็ม
    1. ในขั้นตอนที่ 4 ระบบตรวจสอบพบว่า ที่นั่งของกิจกรรมไม่เพียงพอ .
    2. ระบบแสดงข้อความ "ขออภัย กิจกรรมเต็มแล้ว" แทนปุ่มลงทะเบียน.
    3. นักศึกษา สามารถเลือกดูหรือลงทะเบียนกิจกรรมอื่นได้.

- **AF-2 – ลงทะเบียนซ้ำ
    1. ในขั้นตอนที่ 4 ระบบตรวจสอบพบว่า User ID เคยลงทะเบียนกิจกรรมนี้มาก่อน.
    2. ระบบแสดงข้อความ "คุณได้ลงทะเบียนกิจกรรมนี้แล้ว" แทนปุ่มลงทะเบียน.
    3. นักศึกษา สามารถดู QR Code ยืนยันบนโปรไฟล์ของตนเองได้.









## UC-08: การสร้างและส่งขออนุมัติกิจกรรม

**Primary Actor:** ผู้จัดกิจกรรม (Organizer User)
**Goal:** สร้างกิจกรรมใหม่พร้อมรายละเอียดครบถ้วน และส่งเข้าสู่ระบบ Workflow เพื่อขออนุมัติ

### Preconditions
- ผู้จัดกิจกรรมต้องทำการ **Login** เข้าสู่ระบบแล้ว (FR-002).
- ผู้จัดกิจกรรมมีสิทธิ์ในการสร้างกิจกรรม.

### Postconditions
- กิจกรรมใหม่ถูกบันทึกในฐานข้อมูลในสถานะ **'Pending Review'**.
- ระบบส่งการแจ้งเตือนไปยังผู้ดูแลระบบ/ผู้อนุมัติ (ตาม FR-012).

### Main Flow (Happy Path)
1. ผู้จัดกิจกรรมเข้าสู่หน้า **"จัดการกิจกรรม"**.
2. ผู้จัดกิจกรรมคลิกปุ่ม **"สร้างกิจกรรมใหม่"** .
3. ระบบแสดงฟอร์มสร้างกิจกรรม (ชื่อ, วันที่, สถานที่, จำนวนที่นั่ง, คำอธิบาย).
4. ผู้จัดกิจกรรมกรอกข้อมูลทั้งหมดและแนบรูปภาพ/เอกสารประกอบ.
5. ผู้จัดกิจกรรมคลิก **"ส่งเพื่อขออนุมัติ"** .
6. ระบบตรวจสอบความสมบูรณ์และความถูกต้องของข้อมูล.
7. ระบบบันทึกกิจกรรมในสถานะ **'Pending Review'** และแสดงข้อความ.

### Alternative Flows / Exceptions
- **AF-1 – ข้อมูลไม่สมบูรณ์**
  1. เกิดจากขั้นตอน 6 เมื่อฟิลด์ที่จำเป็น (เช่น วันที่เริ่มต้น/สิ้นสุด) ถูกเว้นว่างไว้.
  2. ระบบแจ้งเตือนและไฮไลต์ฟิลด์ที่ต้องแก้ไข.
  3. กลับไปที่ขั้นตอน 4 ให้ผู้จัดกิจกรรมแก้ไขข้อมูล.

- **AF-2 – กิจกรรมถูกปฏิเสธ 
  1. (หลัง Use Case นี้) ผู้ดูแลระบบปฏิเสธกิจกรรม.
  2. ระบบเปลี่ยนสถานะกิจกรรมเป็น 
  3. ระบบส่ง Email/Notification แจ้งผู้จัดกิจกรรมพร้อมเหตุผล.   





  ## UC-07: การยืนยันตัวตนเข้าร่วมงาน

**Primary Actor:** ผู้จัดกิจกรรม (Organizer) / ผู้ดูแลการ Check-in
**Goal:** ยืนยันการเข้าร่วมของผู้ลงทะเบียนได้อย่างรวดเร็วและแม่นยำ

### Preconditions
- ผู้จัดกิจกรรมต้องทำการ เข้าสู่ระบบในแอปพลิเคชัน Check-in.
- ผู้จัดกิจกรรมเข้าถึงหน้า Check-in ของกิจกรรมนั้นได้.
- ผู้เข้าร่วมแสดง QR Code ที่ได้รับจากการลงทะเบียน (FR-006).

### Postconditions
- สถานะการเข้าร่วมของนักศึกษาในกิจกรรมนี้ถูกเปลี่ยนเป็น .
- บันทึกเวลาที่ทำการ Check-in ในฐานข้อมูล.

### Main Flow 
1. ผู้จัดกิจกรรมเปิดหน้า Check-in และเตรียมพร้อมสแกน.
2. ผู้เข้าร่วมแสดง QR Code บนโทรศัพท์มือถือ/หลักฐานอื่น ๆ.
3. ผู้จัดกิจกรรมสแกน QR Code .
4. ระบบตรวจสอบความถูกต้องของ QR Code และสถานะการลงทะเบียน.
5. ระบบบันทึกสถานะ และแสดงข้อความ .
6. ผู้เข้าร่วมได้รับอนุญาตให้เข้างาน.

### Alternative Flows / Exceptions
- **AF-1 – QR Code ไม่ถูกต้อง/หมดอายุ**
  1. ที่ขั้นตอน 4 ระบบตรวจสอบพบว่า QR Code ไม่ถูกต้องหรือไม่ตรงกับกิจกรรม.
  2. ระบบแสดงข้อความ **"QR Code ไม่ถูกต้อง หรือไม่ใช่สำหรับกิจกรรมนี้"**.
  3. ผู้จัดกิจกรรมแนะนำให้ผู้เข้าร่วมตรวจสอบ QR Code ใหม่.

- **AF-2 – ลงทะเบียนแล้วแต่ยังไม่ได้ Check-in**
  1. ที่ขั้นตอน 4 ระบบพบว่า User ID นี้เคยลงทะเบียนแล้ว แต่สถานะยังเป็น .
  2. ระบบทำการ Check-in สำเร็จ และดำเนินการตาม Postconditions.

- **AF-3 – ไม่ได้ลงทะเบียน **
  1. ที่ขั้นตอน 4 ระบบตรวจสอบพบว่า **User ID นี้ไม่ได้ลงทะเบียนกิจกรรมนี้**.
  2. ระบบแสดงข้อความ **"บุคคลนี้ไม่ได้ลงทะเบียนไว้"** .